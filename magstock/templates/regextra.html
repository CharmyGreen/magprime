
<script type="text/javascript">
    BADGE_TYPES.push({
        title: 'Food: ${{ c.BADGE_PRICE|add:c.FOOD_LEVEL }}',
        description: 'Supporter pack plus food all weekend long.',
        extra: {{ c.FOOD_LEVEL }}
    });
    var showOrHideAllergies = function () {
        setVisible('#allergies', $.val('amount_extra') >= {{ c.FOOD_LEVEL }});
    };
    var showOrHideComingWith = function () {
        var showComingWith = !!$.val('coming_as');
        setVisible('#comingwith', showComingWith);
        if (showComingWith) {
            if ($.val('coming_as') === {{ c.TENT_LEADER }}) {
                $('#comingwith label').text('Who is in your group?');
                $('#comingwith :text').attr('placeholder', 'Full legal names of everyone in your group');
            } else {
                $('#comingwith label').text('Who your Tent Leader?');
                $('#comingwith :text').attr('placeholder', 'Full legal name of your Tent Leader');
            }
        }
    };
    $(function () {
        showOrHideAllergies();
        showOrHideComingWith();
        $.field('coming_as').on('change', showOrHideComingWith);
        $.field('amount_extra').on('change', showOrHideAllergies);
        $('#extra-fields').insertAfter($.field('zip_code').parents('.form-group'));
    });
</script>

<div id="extra-fields">

<div class="form-group" id="allergies">
    <label class="col-sm-2 control-label optional-field">Allergies</label>
    <div class="col-sm-6">
        <input type="text" class="form-control" name="allergies" value="{{ attendee.allergies }}" placeholder="Please include all dietary restrictions" />
    </div>
</div>

<div class="form-group">
    <label class="col-sm-2 control-label">Noise Level</label>
    <div class="col-sm-6">
        <select name="noise_level">
            <option value="">Select your preferred level of nighttime noise</option>
            {% options c.NOISE_LEVEL_OPTS attendee.noise_level %}
        </select>
    </div>
</div>

<div class="form-group">
    <label class="col-sm-2 control-label">Site Type</label>
    <div class="col-sm-6">
        <select name="site_type">
            <option value="">Select your preferred site type</option>
            {% options c.SITE_TYPE_OPTS attendee.site_type %}
        </select>
    </div>
</div>

<div class="form-group">
    <label class="col-sm-2 control-label">How are you camping?</label>
    <div class="col-sm-6">
        <select name="camping_type">
            <option value="">Please select a type of enclosure</option>
            {% options c.CAMPING_TYPE_OPTS attendee.camping_type %}
        </select>
    </div>
</div>

<div class="form-group">
    <label class="col-sm-2 control-label">Who is your Tent Leader?</label>
    <div class="col-sm-6">
        <select name="coming_as">
            <option value="">Who is coordinating your tent/cabin?</option>
            {% options c.COMING_AS_OPTS attendee.coming_as %}
        </select>
    </div>
</div>

<div id="comingwith" class="form-group" style="display:none">
    <label class="col-sm-2 control-label">Who's staying with you?</label>
    <div class="col-sm-6">
        <input type="text" name="coming_with" class="form-control" placeholder="Full legal names of who you're camping with">
    </div>
</div>

</div>
